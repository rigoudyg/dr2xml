 <context id="nemo" >
    
    <!-- $id$ -->
    <variable_definition>
    <!-- Year of time origin for NetCDF files; defaults to 1850 -->
    <variable id="ref_year" type="int"> 1850 </variable>
    </variable_definition> 

    <field_definition src="./nemo_fields.xml"/>
    
    <!-- 
============================================================================================================
= grid definition = = DO NOT CHANGE =
============================================================================================================
    -->
    
   <axis_definition>  
      <axis id="deptht" long_name="Vertical T levels" unit="m" positive="down" />
      <axis id="deptht0" axis_ref="deptht" >
         <zoom_axis begin="0" n="1" />
      </axis>
      <axis id="deptht300" axis_ref="deptht" >
         <zoom_axis begin="0" n="35" />
      </axis>
      <axis id="deptht700" axis_ref="deptht" >
         <zoom_axis begin="0" n="43" />
      </axis>
      <axis id="deptht2000" axis_ref="deptht" >
         <zoom_axis begin="0" n="54" />
      </axis>
      <axis id="depthu" long_name="Vertical U levels" unit="m" positive="down" />
      <axis id="depthu0" axis_ref="depthu" >
         <zoom_axis begin="0" n="1" />
      </axis>
      <axis id="depthv" long_name="Vertical V levels" unit="m" positive="down" />
      <axis id="depthv0" axis_ref="depthv" >
         <zoom_axis begin="0" n="1" />
      </axis>
      <axis id="depthw" long_name="Vertical W levels" unit="m" positive="down" />
      <axis id="nfloat" long_name="Float number"      unit="-"                 />
      <axis id="icbcla"  long_name="Iceberg class"      unit="1"               />
      <axis id="ncatice" long_name="Ice category"       unit="1"               />
      <axis id="iax_20C" long_name="20 degC isotherm"   unit="degC"            />
      <axis id="iax_28C" long_name="28 degC isotherm"   unit="degC"            />
      <axis id="bassin"  long_name="Bassin"             unit="-"    n_glo="5"  />
      <axis id="basin"   long_name="Basins"             unit="-"               />
      <axis id="oline"   long_name="Sections"           unit="-"               />
      <axis id="iline"   long_name="Ice Sections"           unit="-"               />
   </axis_definition> 
   
   <domain_definition src="./nemo_domains.xml"/>
  
    <grid_definition>
        <!--  -->
       <grid id="grid_T_2D" >
         <domain id="grid_T" />
       </grid>
        <!--  -->
       <grid id="grid_T_3D_ncatice" >
         <domain id="grid_T" />
         <axis id="ncatice" />
       </grid>
        <!--  -->
       <grid id="grid_T_3D" >
         <domain id="grid_T" />
         <axis id="deptht" />
       </grid>
        <!--  -->
       <grid id="grid_U_2D" >
         <domain id="grid_U" />
       </grid>
        <!--  -->
       <grid id="grid_U_3D" >
         <domain id="grid_U" />
         <axis id="depthu" />
       </grid>
        <!--  -->
       <grid id="grid_V_2D" >
         <domain id="grid_V" />
       </grid>
        <!--  -->
       <grid id="grid_V_3D" >
         <domain id="grid_V" />
         <axis id="depthv" />
       </grid>
        <!--  -->
       <grid id="grid_W_2D" >
         <domain id="grid_W" />
       </grid>
        <!--  -->
       <grid id="grid_W_3D" >
         <domain id="grid_W" />
         <axis id="depthw" />
       </grid>
        <!--  -->
       <grid id="grid_1point" >
         <domain domain_ref="1point"/>
       </grid>
        <!--  -->
       <grid id="grid_T_nfloat" >
         <domain id="grid_T" />
         <axis id="nfloat" />
       </grid>
        <!--  -->
       <grid id="grid_EqT" >
         <domain domain_ref="EqT" />
       </grid>
        <!--  -->
       <grid id="gznl_T_2D">
         <domain domain_ref="ptr" />
       </grid>
        <!--  -->
       <grid id="gznl_T_3D">
         <domain domain_ref="ptr" />
         <axis id="deptht" />
       </grid>
        <!--  -->
       <grid id="gznl_W_2D">
         <domain domain_ref="ptr" />
       </grid>
        <!--  -->
       <grid id="gznl_W_3D">
         <domain domain_ref="ptr" />
         <axis id="depthw" />
       </grid>
       <grid id="grid_znl_T_2D">
         <domain id="gznl" />
       </grid>
        <!--  -->
       <grid id="grid_znl_T_3D">
         <domain id="gznl" />
         <axis id="deptht" />
       </grid>
        <!--  -->
       <grid id="grid_znl_W_3D">
         <domain id="gznl" />
         <axis id="depthw" />
       </grid>

      <grid id="grid_ptr_T_2D">
       <domain id="ptr" />
      </grid>

      <grid id="grid_ptr_T_3D">
       <domain id="ptr" />
         <axis id="deptht" />
       </grid>

      <grid id="grid_ptr_W_3D">
       <domain id="ptr" />
         <axis id="depthw" />
      </grid>

      <grid id="scalarpoint"> 
       <scalar />
      </grid>
      
      <grid id="grid_TRO"> 
         <axis id="oline" />       
      </grid>

      <grid id="grid_TRI"> 
         <axis id="iline" />       
      </grid>

      <grid id="grid_ptr_T_basin_2D">
       <domain id="ptr" />
         <axis id="basin" />
      </grid>

       <grid id="grid_znl_T_basin_2D">
         <domain id="gznl" />
         <axis id="basin" />
       </grid>

      <grid id="grid_ptr_W_basin_3D">
       <domain id="ptr" />
         <axis id="depthw" />
         <axis id="basin" />
      </grid>

       <grid id="grid_znl_W_basin_3D">
         <domain id="gznl" />
         <axis id="depthw" />
         <axis id="basin" />
       </grid>
       
       <grid id="grid_T_2D_SFC">
         <domain domain_ref="grid_T" />
         <scalar>
	   <extract_axis position="0" />
         </scalar>
       </grid>

       <grid id="grid_U_2D_SFC">
         <domain domain_ref="grid_U" />
         <scalar>
	   <extract_axis position="0" />
         </scalar>
       </grid>

       <grid id="grid_V_2D_SFC">
         <domain domain_ref="grid_V" />
         <scalar>
	   <extract_axis position="0" />
         </scalar>
       </grid>


       <grid id="vert_sum">
         <domain domain_ref="grid_T"/>
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="zoom_300">
         <domain domain_ref="grid_T" />
         <axis axis_ref="deptht300"/>
       </grid>

       <grid id="zoom_300_sum">
         <domain domain_ref="grid_T" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="zoom_700">
         <domain domain_ref="grid_T" />
         <axis axis_ref="deptht700"/>
       </grid>

       <grid id="zoom_700_sum">
         <domain domain_ref="grid_T" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="zoom_2000">
         <domain domain_ref="grid_T" />
         <axis axis_ref="deptht2000"/>
       </grid>

       <grid id="zoom_2000_sum">
         <domain domain_ref="grid_T" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="grid_T_SFC">
         <domain domain_ref="grid_T" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="grid_U_SFC">
         <domain domain_ref="grid_U" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="grid_V_SFC">
         <domain domain_ref="grid_V" />
         <scalar>
            <reduce_axis operation="sum" />
         </scalar>
       </grid>

       <grid id="horiz_sum_T">
         <scalar>
            <reduce_domain operation="sum" />
         </scalar>
	 <axis axis_ref="deptht" />
       </grid>

    </grid_definition>

  </context>
  

