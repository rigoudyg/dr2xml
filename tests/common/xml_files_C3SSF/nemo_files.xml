<!--
     XIOS-2.0 xml sub-file for Nemo + Gelato

This file defines some output files

It must be sourced by another XIOS xml file as by
   <file_definition  src="./nemo_files.xml"/>

-->

<context id="nemo">

  <file_definition type="one_file" time_units="days" timeseries="exclusive" append="true" compression_level="1" time_stamp_name="creation_date"  time_stamp_format="%Y-%m-%dT%H:%M:%SZ">
    <file_group id="6h" output_freq="6h" output_level="10" enabled=".TRUE."> <!-- output_freq="6h" -->

<!-- For C3S : frequency=6hr | realm=ocean -->
      <file ts_prefix="@IOXDIR@/@EXPID@_nemo_6hourly" name="@EXPID@_nemo_6hourly" split_freq="1mo" enabled="true" > <!-- split_freq="1mo" | realm=ocean -->

<!-- Global attributes : debut -->
         <variable name="Conventions"  type="string" > CF-1.6 C3S-0.1 </variable>
         <variable name="title"  type="string" > Meteo-France seasonal forecast model output prepared for C3S </variable>
         <variable name="source"  type="string" > System8-v20210101:atmos ARPEGEv6.4.2(cy37t1,Tl359L137); ocean NEMOv3.6 (ORCA025 L75); sea-ice GELATOv6; land surface SURFEXv8.0; coupler OASIS MCT v3.0; river routing CTRIP </variable>
         <variable name="institute_id"  type="string" > lfpw </variable>
         <variable name="institution"  type="string" > Meteo-France, Toulouse, France </variable>
         <variable name="contact"  type="string" > http://copernicus-support.ecmwf.int </variable>
         <variable name="project"  type="string" > C3S Seasonal Forecast </variable>
         <variable name="comment"  type="string" > Run by CNRM at Meteo-France HPC facilities </variable>
         <variable name="forecast_type"  type="string" > hindcast </variable>
         <variable name="modeling_realm"  type="string" > ocean </variable>
         <variable name="frequency"  type="string" > 6hr </variable>
         <variable name="level_type"  type="string" > surface </variable>
         <variable name="history"  type="string" > none </variable>
         <variable name="references"  type="string" > http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="commit"  type="string" > 2021-01-01T00:00:00Z http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="summary"  type="string" > Seasonal Forecast data produced by Meteo-France as its contribution to the seasonal forecast activity of the Copernicus Climate Change Service (C3S). The data has global coverage with a 1-degree horizontal resolution and spans for around 6 months since the start date </variable>
         <variable name="keywords"  type="string" > Seasonal Forecasts, C3S, ECMWF, Copernicus, Climate Change, Climate Services, Earth Science Services, Environmental Advisories, Climate Advisories </variable>
         <variable name="forecast_reference_time"  type="string" > 1992-12-17T00:00:00Z </variable>
<!-- Global attributes : fin-->

<!-- Instantaneous data : operation="instant"-->
           <field_group enabled="true" operation="instant" expr="@this" detect_missing_value="True" default_value="1.e+20" ts_split_freq="1y" ts_enabled="true" grid_ref="grid_1deg" >
               <field field_ref="sst" name="tso" >
                   <variable name="standard_name" type="string" > sea_surface_temperature </variable>
                   <variable name="long_name" type="string" > Sea Surface Temperature </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
               </field>
           </field_group>
       </file>

<!-- For C3S : frequency=6hr | realm=seaIce -->
      <file ts_prefix="@IOXDIR@/@EXPID@_nemo_6hourly" name="@EXPID@_nemo_6hourly" split_freq="1mo" enabled="true" > <!-- split_freq="1mo" | realm=seaIce -->

<!-- Global attributes : debut -->
         <variable name="Conventions"  type="string" > CF-1.6 C3S-0.1 </variable>
         <variable name="title"  type="string" > Meteo-France seasonal forecast model output prepared for C3S </variable>
         <variable name="source"  type="string" > System8-v20210101:atmos ARPEGEv6.4.2(cy37t1,Tl359L137); ocean NEMOv3.6 (ORCA025 L75); sea-ice GELATOv6; land surface SURFEXv8.0; coupler OASIS MCT v3.0; river routing CTRIP </variable>
         <variable name="institute_id"  type="string" > lfpw </variable>
         <variable name="institution"  type="string" > Meteo-France, Toulouse, France </variable>
         <variable name="contact"  type="string" > http://copernicus-support.ecmwf.int </variable>
         <variable name="project"  type="string" > C3S Seasonal Forecast </variable>
         <variable name="comment"  type="string" > Run by CNRM at Meteo-France HPC facilities </variable>
         <variable name="forecast_type"  type="string" > hindcast </variable>
         <variable name="modeling_realm"  type="string" > seaIce </variable>
         <variable name="frequency"  type="string" > 6hr </variable>
         <variable name="level_type"  type="string" > surface </variable>
         <variable name="history"  type="string" > none </variable>
         <variable name="references"  type="string" > http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="commit"  type="string" > 2021-01-01T00:00:00Z http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="summary"  type="string" > Seasonal Forecast data produced by Meteo-France as its contribution to the seasonal forecast activity of the Copernicus Climate Change Service (C3S). The data has global coverage with a 1-degree horizontal resolution and spans for around 6 months since the start date </variable>
         <variable name="keywords"  type="string" > Seasonal Forecasts, C3S, ECMWF, Copernicus, Climate Change, Climate Services, Earth Science Services, Environmental Advisories, Climate Advisories </variable>
         <variable name="forecast_reference_time"  type="string" > 1992-12-17T00:00:00Z </variable>
<!-- Global attributes : fin-->

<!-- Instantaneous data : operation="instant"-->
           <field_group enabled="true" operation="instant" expr="@this" detect_missing_value="True" default_value="1.e+20" ts_split_freq="1y" ts_enabled="true" grid_ref="grid_1deg" >
               <field field_ref="sitemptop" name="sitemptop" >
                   <variable name="standard_name" type="string" > sea_ice_temperature </variable>
                   <variable name="long_name" type="string" > Surface Temperature of Sea Ice </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
               </field>
           </field_group>
      </file>
    </file_group>

<!-- For C3S : frequency=day | realm=seaIce -->
    <file_group id="1d" output_freq="1d" output_level="10" enabled=".TRUE."> <!-- output_freq="1d" -->
      <file ts_prefix="@IOXDIR@/@EXPID@_nemo_daily" name="@EXPID@_nemo_daily" split_freq="1mo" enabled="true" > <!-- split_freq="1mo" | realm=seaIce -->

<!-- Global attributes : debut -->
         <variable name="Conventions"  type="string" > CF-1.6 C3S-0.1 </variable>
         <variable name="title"  type="string" > Meteo-France seasonal forecast model output prepared for C3S </variable>
         <variable name="source"  type="string" > System8-v20210101:atmos ARPEGEv6.4.2(cy37t1,Tl359L137); ocean NEMOv3.6 (ORCA025 L75); sea-ice GELATOv6; land surface SURFEXv8.0; coupler OASIS MCT v3.0; river routing CTRIP </variable>
         <variable name="institute_id"  type="string" > lfpw </variable>
         <variable name="institution"  type="string" > Meteo-France, Toulouse, France </variable>
         <variable name="contact"  type="string" > http://copernicus-support.ecmwf.int </variable>
         <variable name="project"  type="string" > C3S Seasonal Forecast </variable>
         <variable name="comment"  type="string" > Run by CNRM at Meteo-France HPC facilities </variable>
         <variable name="forecast_type"  type="string" > hindcast </variable>
         <variable name="modeling_realm"  type="string" > seaIce </variable>
         <variable name="frequency"  type="string" > day </variable>
         <variable name="level_type"  type="string" > surface </variable>
         <variable name="history"  type="string" > none </variable>
         <variable name="references"  type="string" > http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="commit"  type="string" > 2021-01-01T00:00:00Z http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="summary"  type="string" > Seasonal Forecast data produced by Meteo-France as its contribution to the seasonal forecast activity of the Copernicus Climate Change Service (C3S). The data has global coverage with a 1-degree horizontal resolution and spans for around 6 months since the start date </variable>
         <variable name="keywords"  type="string" > Seasonal Forecasts, C3S, ECMWF, Copernicus, Climate Change, Climate Services, Earth Science Services, Environmental Advisories, Climate Advisories </variable>
         <variable name="forecast_reference_time"  type="string" > 1992-12-17T00:00:00Z </variable>
<!-- Global attributes : fin-->

<!-- Instantaneous data : operation="instant"-->
           <field_group enabled="true" operation="instant" expr="@this" detect_missing_value="True" default_value="1.e+20" ts_split_freq="1y" ts_enabled="true" grid_ref="grid_1deg" >
               <field field_ref="siconc" name="sic" >
                   <variable name="standard_name" type="string" > sea_ice_area_fraction </variable>
                   <variable name="long_name" type="string" > Sea Ice Area Fraction </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > 1 </variable>
               </field>
           </field_group>
      </file>

<!-- For APPLICATE : frequency=day | realm=seaIce -->
      <file ts_prefix="@IOXDIR@/APPLICATE_@EXPID@_nemo_daily" name="APPLICATE_@EXPID@_nemo_daily" split_freq="1mo" enabled="true" > <!-- split_freq="1mo" | realm=seaIce -->

<!-- Global attributes : debut -->
         <variable name="Conventions"  type="string" > CF-1.6 C3S-0.1 </variable>
         <variable name="title"  type="string" > Meteo-France seasonal forecast model output prepared for APPLICATE </variable>
         <variable name="source"  type="string" > System8-v20210101:atmos ARPEGEv6.4.2(cy37t1,Tl359L137); ocean NEMOv3.6 (ORCA025 L75); sea-ice GELATOv6; land surface SURFEXv8.0; coupler OASIS MCT v3.0; river routing CTRIP </variable>
         <variable name="institution"  type="string" > Meteo-France, Toulouse, France </variable>
         <variable name="comment"  type="string" > Run by CNRM at Meteo-France HPC facilities </variable>
         <variable name="forecast_type"  type="string" > hindcast </variable>
         <variable name="modeling_realm"  type="string" > seaIce </variable>
         <variable name="frequency"  type="string" > day </variable>
         <variable name="level_type"  type="string" > surface </variable>
         <variable name="history"  type="string" > none </variable>
         <variable name="references"  type="string" > http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="commit"  type="string" > 2021-01-01T00:00:00Z http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="summary"  type="string" > Seasonal Forecast data produced by Meteo-France as its contribution to the seasonal forecast activity of APPLICATE. The data has global coverage with a 1-degree horizontal resolution and spans for around 6 months since the start date </variable>
         <variable name="forecast_reference_time"  type="string" > 1992-12-17T00:00:00Z </variable>
<!-- Global attributes : fin-->

<!-- Time aggregated data : operation="average"-->
           <field_group enabled="true" operation="average" expr="@this" detect_missing_value="True" default_value="1.e+20" ts_split_freq="1y" ts_enabled="true" grid_ref="grid_1deg" >
               <field field_ref="siu" name="siu" />
               <field field_ref="siv" name="siv" />
               <field field_ref="sithick" name="sithick" />
           </field_group>
      </file>
    </file_group>


<!-- For C3S : frequency=month | realm=ocean -->
    <file_group id="1m" output_freq="1mo" output_level="10" enabled=".TRUE."> <!-- output_freq="1mo" -->
      <file ts_prefix="@IOXDIR@/@EXPID@_nemo_monthly" name="@EXPID@_nemo_monthly" split_freq="1y" enabled="true" > <!-- level_type=ocean2d -->

<!-- Global attributes : debut -->
         <variable name="Conventions"  type="string" > CF-1.6 C3S-0.1 </variable>
         <variable name="title"  type="string" > Meteo-France seasonal forecast model output prepared for C3S </variable>
         <variable name="source"  type="string" > System8-v20210101:atmos ARPEGEv6.4.2(cy37t1,Tl359L137); ocean NEMOv3.6 (ORCA025 L75); sea-ice GELATOv6; land surface SURFEXv8.0; coupler OASIS MCT v3.0; river routing CTRIP </variable>
         <variable name="institute_id"  type="string" > lfpw </variable>
         <variable name="institution"  type="string" > Meteo-France, Toulouse, France </variable>
         <variable name="contact"  type="string" > http://copernicus-support.ecmwf.int </variable>
         <variable name="project"  type="string" > C3S Seasonal Forecast </variable>
         <variable name="comment"  type="string" > Run by CNRM at Meteo-France HPC facilities </variable>
         <variable name="forecast_type"  type="string" > hindcast </variable>
         <variable name="modeling_realm"  type="string" > ocean </variable>
         <variable name="frequency"  type="string" > mon </variable>
         <variable name="level_type"  type="string" > ocean2d </variable>
         <variable name="history"  type="string" > none </variable>
         <variable name="references"  type="string" > http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="commit"  type="string" > 2021-01-01T00:00:00Z http://www.umr-cnrm.fr/IMG/pdf/system8-technical.pdf </variable>
         <variable name="summary"  type="string" > Seasonal Forecast data produced by Meteo-France as its contribution to the seasonal forecast activity of the Copernicus Climate Change Service (C3S). The data has global coverage with a 1-degree horizontal resolution and spans for around 6 months since the start date </variable>
         <variable name="keywords"  type="string" > Seasonal Forecasts, C3S, ECMWF, Copernicus, Climate Change, Climate Services, Earth Science Services, Environmental Advisories, Climate Advisories </variable>
         <variable name="forecast_reference_time"  type="string" > 1992-12-17T00:00:00Z </variable>
<!-- Global attributes : fin-->

<!-- Time aggregated data : operation="average"-->
           <field_group enabled="true" operation="average" expr="@this" detect_missing_value="True" default_value="1.e+20" ts_split_freq="1y" ts_enabled="true" grid_ref="grid_1deg" >
               <field field_ref="sithick" name="sithick" >
                   <variable name="standard_name" type="string" > sea_ice_thickness </variable>
                   <variable name="long_name" type="string" > Sea Ice Thickness </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="sss" name="sos" >
                   <variable name="standard_name" type="string" > sea_water_practical_salinity </variable>
                   <variable name="long_name" type="string" > Sea Surface Salinity </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > 1 </variable>
                   this * $convSpsu
               </field>
               <field field_ref="sshdyn" name="zos" >
                   <variable name="standard_name" type="string" > sea_surface_height_above_geoid </variable>
                   <variable name="long_name" type="string" > Sea Surface Height Above Geoid </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="mldr10_1" name="mlotstheta001" >
                   <variable name="standard_name" type="string" > ocean_mixed_layer_thickness_defined_by_sigma_theta </variable>
                   <variable name="long_name" type="string" > Ocean Mixed Layer Thickness Defined by Sigma Theta 0.01 kg/m3 </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime sigma_theta lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="mldr10_3" name="mlotstheta003" >
                   <variable name="standard_name" type="string" > ocean_mixed_layer_thickness_defined_by_sigma_theta </variable>
                   <variable name="long_name" type="string" > Ocean Mixed Layer Thickness Defined by Sigma Theta 0.03 kg/m3 </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime sigma_theta lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="14d" name="t14d" >
                   <variable name="standard_name" type="string" > depth_of_isosurface_of_sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth of 14 degree Celsius Isotherm  </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime temperature lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="17d" name="t17d" >
                   <variable name="standard_name" type="string" > depth_of_isosurface_of_sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth of 17 degree Celsius Isotherm  </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime temperature lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="20d" name="t20d" >
                   <variable name="standard_name" type="string" > depth_of_isosurface_of_sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth of 20 degree Celsius Isotherm  </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime temperature lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="26d" name="t26d" >
                   <variable name="standard_name" type="string" > depth_of_isosurface_of_sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth of 26 degree Celsius Isotherm  </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime temperature lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="28d" name="t28d" >
                   <variable name="standard_name" type="string" > depth_of_isosurface_of_sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth of 28 degree Celsius Isotherm  </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime temperature lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > m </variable>
               </field>
               <field field_ref="hc300" name="thetaot300" >
                   <variable name="standard_name" type="string" > sea_water_potential_temperature </variable>
                   <variable name="long_name" type="string" > Depth Average Potential Temperature of Upper 300m </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime depth lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > K </variable>
               </field>
               <field field_ref="sc300" name="sot300" >
                   <variable name="standard_name" type="string" > sea_water_practical_salinity </variable>
                   <variable name="long_name" type="string" > Depth Average Salinity of Upper 300m </variable>
                   <variable name="coordinates" type="string" > reftime realization time leadtime depth lat lon </variable>
                   <variable name="grid_mapping" type="string" > hcrs </variable>
                   <variable name="units" type="string" > 1 </variable>
               </field>
           </field_group>
      </file>
    </file_group>
  </file_definition>
</context>
